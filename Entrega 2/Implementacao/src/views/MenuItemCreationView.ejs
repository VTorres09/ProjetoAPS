<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Menu Item</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="styles/global.css" rel="stylesheet" type="text/css" />
        <link href="styles/form.css" rel="stylesheet" type="text/css" />
        <link href="styles/menuItemCreation.css" rel="stylesheet" type="text/css" />
    </head>
    <body class="column">
        
        <div class="navbar">
            <h3 class="navbar__item accent__text">Crie um novo prato!</h3>
            <h3 class="navbar__item">Quarto B2</h3>
        </div>

        <script>

            fetch("/kitchen").then(ingredients => ingredients.json()).then(ingredients => 
                {

                    for (let ingredient of JSON.parse(ingredients) ){

                        let ingredientCard = document.createElement("div")
                        ingredientCard.classList.add("card")
                        ingredientCard.classList.add("ingredient__card")

                        let columnDiv = document.createElement("column")
                        columnDiv.classList.add("column")

                        let ingredientNameH3 = document.createElement("h3")
                        ingredientNameH3.innerText = ingredient.descricao

                        let ingredientCaloriesH4 = document.createElement("h4")
                        ingredientCaloriesH4.classList.add("accent__text")
                        ingredientCaloriesH4.innerText = ingredient.calorias

                        columnDiv.appendChild(ingredientNameH3)
                        columnDiv.appendChild(ingredientCaloriesH4)

                        ingredientCard.appendChild(columnDiv)

                        document.getElementById("ingredients-container").appendChild(ingredientCard)

                    }

                }
            )

        </script>

        <div class="row">

            <div class="column">
                <div class="sticky card menu_item__card">
                    <form class="column" method="POST" action="/menu_item/create" >
                        <div class="non-responsive-row row_space_between">
                            <h3 class="menu_title">Nome:</h3>
                            <input type="text" name="name" class="form__input menu_item__input" id="name" placeholder="" />
                        </div>
                        <div class="non-responsive-row row_space_between">
                            <h3 class="menu_title">Descrição:</h3>
                            <input type="text" name="description" class="form__input menu_item__input" id="description" placeholder="" />
                        </div>
                        <div class="non-responsive-row row_space_between">
                            <h3 class="menu_title">Ingredientes selecionados:</h3>
                            <h4 class="accent__text"></h4>
                            <input type="text" name="ingredients" class="form__input menu_item__input" id="ingredients" placeholder="" hidden/>
                        </div>
                        <div class="non-responsive-row row_space_between">
                            <h3 class="menu_title">Calorias:</h3>
                            <h4 class="accent__text">50kcal</h4>
                            <input type="text" name="calories" class="form__input menu_item__input" id="calories" hidden value=""/>
                        </div>
                        <button class="form__button create__button" id="login">Criar</button>
                    </form>
                </div>
            </div>

            <div class="column ingredients_list" id="ingredients-container"> 
            </div>

        </div>

    </body>
</html>